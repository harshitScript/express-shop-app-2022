<%- include("../includes/head.ejs") %> <%- include("../includes/navigation.ejs")
%>
<div class="flex-row-centered">
  <div class="card login-form-card">
    <h1 class="text-center">Login Form</h1>
    <% if(error){ %>
    <p class="error"><%= error %></p>
    <% }else if(success){ %>
    <p class="success"><%= success %></p>
    <% } %> <% if(validation_errors.length){ %> <%
    validation_errors.forEach(function(validation_error){ %>
    <p class="error"><%= validation_error?.msg %></p>
    <% }) %> <% } %>
    <form class="product-form" method="POST" action="/auth/authenticating">
      <div class="form-control">
        <input
          class="w-100 <%= validation_errors.find(error_obj => error_obj.param === 'email') ? 'invalid' : '' %>"
          type="text"
          name="email"
          placeholder="enter your email"
          required
          autofocus
          value="<%= old_email  %>"
        />
      </div>
      <div class="form-control">
        <input
          class="w-100 <%= validation_errors.find(error_obj => error_obj.param === 'password') ? 'invalid' : '' %>"
          type="password"
          name="password"
          placeholder="enter your password"
          required
        />
      </div>
      <div>
        <a class="links" href="/auth/reset-password">Forget password ?</a>
      </div>
      <%- include("../includes/csrf-token-input.ejs") %>
      <div class="form-control">
        <button type="submit" class="btn w-100">Log-in</button>
      </div>
      <div class="form-control">
        <p class="text-center">OR</p>
      </div>
      <div class="form-control">
        <a href="/auth/signup" class="btn w-100">Sign-up</a>
      </div>
    </form>
  </div>
</div>
<%- include("../includes/logout-btn.ejs") %> <%- include("../includes/end.ejs")
%>
